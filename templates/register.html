{% extends 'base.html' %}
{% load widget_tweaks %}
{% load myfilters %}

{% block title %}Sign Up{% endblock %}

{% block content %}




    <div class="d-flex justify-content-center">
        <h3 id="form-title">Sign Up</h3>
    </div>
    <div class="d-flex justify-content-center form_container">
{#        <form method="POST" action="" id="regForm" data-offices-url="{% url 'ajax_load_offices' %}">#}
        <form method="POST" action="">
            {% csrf_token %}
{#            {{ form.media.js }}#}


<div align="center">
            <div class="input-group mb-2 autofocus">
                <div class="input-group-append autofocus">
                    <span class="input-group-text autofocus"><i class="fas fa-user"></i></span>
                </div>
{#                <input type="text" name="username" placeholder="Username" class="form-control">#}
                {{ form.username|attr:"autofocus" }}
            </div>





            <div class="input-group mb-2">
                <div class="input-group-append">
                    <span class="input-group-text"><i class="fas fa-user"></i></span>
                </div>
{#                <input type="text" name="first_name" placeholder="First Name" class="form-control">#}
                {{ form.first_name }}
            </div>


            <div class="input-group mb-3">
                <div class="input-group-append">
                    <span class="input-group-text"><i class="fas fa-user"></i></span>
                </div>
{#                <input type="text" name="last_name" placeholder="Last Name" class="form-control">#}
                {{ form.last_name }}
            </div>


            <div class="input-group mb-3">
                <div class="input-group-append">
                    <span class="input-group-text"><i class="fas fa-envelope-square"></i></span>
                </div>
{#                <input type="email" name="email" placeholder="Email" class="form-control">#}
                {{ form.email }}
            </div>


{#                <div class="input-group mb-3">#}
{#                <div class="input-group-append">#}
{#                    <span class="input-group-text"><i class="far fa-id-badge"></i></span>#}
{#                </div>#}
{#                <input type="email" name="email" placeholder="Email" class="form-control">#}
{#                {{ form.company_role|addclass:'form-control'}}#}
{#            </div>#}
{##}
{##}
{#          {% if form.company_role.2  == 'Translator' %}#}
{##}
{##}
{##}
{#     {% else %}#}
{#                        <div class="input-group mb-3" id="hide_offices">#}
{#                <div class="input-group-append">#}
{#                    <span class="input-group-text"><i class="far fa-building"></i></span>#}
{#                </div>#}
{#                <input type="email" name="email" placeholder="Email" class="form-control">#}
{#                {{ form.office|addclass:'form-control'}}#}
{##}
{##}
{##}
{#            </div>#}
{##}
{##}
{##}
{##}
{##}
{##}
{##}
{#     {% endif %}#}
{##}
{##}
{##}
{##}
{##}
{##}
{##}
{##}
{#                        <div class="input-group mb-3" id="hide_location">#}
{#                <div class="input-group-append">#}
{#                    <span class="input-group-text"><i class="fas fa-globe-americas"></i></span>#}
{#                </div>#}
{#                <input type="email" name="email" placeholder="Email" class="form-control">#}
{#                {{ form.location|addclass:'form-control'}}#}
{#            </div>#}



            <div class="input-group mb-2">
                <div class="input-group-append ">
                    <span class="input-group-text"><i class="fas fa-key"></i></span>
                </div>
{#                <input type="password" name="password1" placeholder="Password" class="form-control">#}
                {{ form.password1 }}
            </div>

            <div class="input-group mb-3">
                <div class="input-group-append">
                    <span class="input-group-text"><i class="fas fa-key"></i></span>
                </div>
{#                <input type="password" name="password2" placeholder="Confirm Password" class="form-control">#}
                {{ form.password2 }}
            </div>
</div>
            {% include 'recaptcha.html' %}

            <div class="d-flex justify-content-center mt-3 login_container">
                <input class="btn login_btn" type="submit" value="Sign Up">
            </div>


        </form>
    </div>
    {% include 'messages.html' %}
    <div class="input-group mb-1">
    </div>
    <div class="mt-1">
        <div class="d-flex justify-content-center links">
            Already have an account? <a href="{% url 'login' %}" class="ml-2">Sign In</a>
        </div>
    </div>





{##}
{#            <select name = "company_role">#}
{#                {% for item in form.company_role %}#}
{#                    <option value = {{ item }} ></option>#}
{#                {%  endfor %}#}
{#            </select>#}


        <script>
            /* Because i didnt set placeholder values in forms.py they will be set here using vanilla Javascript
    //We start indexing at one because CSRF_token is considered and input field
    */

            //Query All input fields
            var form_fields = document.getElementsByTagName('input')
            form_fields[1].placeholder = 'Username';
            form_fields[2].placeholder = 'First Name';
            form_fields[3].placeholder = 'Last Name';
            form_fields[4].placeholder = 'Email';
            form_fields[5].placeholder = 'Password';
            form_fields[6].placeholder = 'Confirm Password';


            for (var field in form_fields) {
                form_fields[field].className += ' form-control'
            }
        </script>

{#<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>#}


{#<script>#}
           {#$("#hide_offices").hide(); // hide it#}
           {#$("#hide_location").hide(); // show it#}
{#$("#dcacl").attr('disabled','disabled');#}
{##}
{#    $("#id_company_role").change(function () {#}
{#        const url = $("#regForm").attr("data-offices-url");  // get the url of the `load_offices` view#}
{#        const company_role_Id = $(this).val();  // get the selected company role ID from the HTML input#}
{##}
{##}
{##}
       {# if ($(this).val() == 2){#}
       {#     // alert('hide offices');#}
       {#    $("#hide_offices").hide(); // hide it#}
       {#    $("#hide_location").show(); // show it#}
       {# }#}
       {#if ($(this).val() == 1) {#}
       {#     // alert('hide location');#}
       {#    $("#hide_location").hide(); // hide it#}
       {#    $("#hide_offices").show(); // show it#}
       {# }#}
{##}
{##}
{#        $.ajax({                       // initialize an AJAX request#}
{#            url: url,                    // set the url of the request (= /ajax/load-offices/ )#}
{#            data: {#}
{#                'company_role_id': company_role_Id       // add the company role id to the GET parameters#}
{#            },#}
{#            success: function (data) {   // `data` is the return of the `load_offices` view function#}
{#                // $("#hide").hide(); // show it#}
{#                $("#id_office").html(data);  // replace the contents of the office input with the data that came from the server#}
{#                /*#}
{##}
{#                let html_data = '<option value="">---------</option>';#}
{#                data.forEach(function (office) {#}
{#                    html_data += `<option value="${office.id}">${office.name}</option>`#}
{#                });#}
{#                console.log(html_data);#}
{#                $("#id_office").html(html_data);#}
{##}
{#                */#}
                {#alert($(this).val(1))#}
                {##}
                {#if ($("#company_role_Id").val()=="") {#}
                {#        $("#hide").hide();#}
                {#    } else {#}
                {#        // If any option, ensure the select is shown#}
                {#        $("#hide").show();#}
                {#    }#}
{##}
{##}
{#            }#}
{#        });#}
{##}
{#    });#}
{#</script>#}



{% endblock content %}





















